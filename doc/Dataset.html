<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Dataset
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!Dataset.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (D)</a> &raquo;
    
    
    <span class="title">Dataset</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Dataset
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">ActiveRecord::Base</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActiveRecord::Base</li>
          
            <li class="next">Dataset</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">app/models/dataset.rb<span class="defines">,<br />
  lib/load_theme_affiliations.rb</span>
</dd>
  
</dl>
<div class="clear"></div>








  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#from_eml-class_method" title="from_eml (class method)">+ (Object) <strong>from_eml</strong>(eml_text) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#from_eml_file-class_method" title="from_eml_file (class method)">+ (Object) <strong>from_eml_file</strong>(file) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validation_errors-class_method" title="validation_errors (class method)">+ (Object) <strong>validation_errors</strong>(eml_doc) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#associated_models_from_eml-instance_method" title="#associated_models_from_eml (instance method)">- (Object) <strong>associated_models_from_eml</strong>(dataset_eml) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_attributes_from_eml-instance_method" title="#basic_attributes_from_eml (instance method)">- (Object) <strong>basic_attributes_from_eml</strong>(dataset_eml) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#begin_date-instance_method" title="#begin_date (instance method)">- (Object) <strong>begin_date</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#contact_info-instance_method" title="#contact_info (instance method)">- (Object) <strong>contact_info</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#core_areas-instance_method" title="#core_areas (instance method)">- (Object) <strong>core_areas</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#creators-instance_method" title="#creators (instance method)">- (Object) <strong>creators</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#custom_units-instance_method" title="#custom_units (instance method)">- (Object) <strong>custom_units</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#datatable_people-instance_method" title="#datatable_people (instance method)">- (Object) <strong>datatable_people</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#datatable_protocols-instance_method" title="#datatable_protocols (instance method)">- (Object) <strong>datatable_protocols</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#date_range-instance_method" title="#date_range (instance method)">- (Object) <strong>date_range</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_abstract-instance_method" title="#eml_abstract (instance method)">- (Object) <strong>eml_abstract</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_access-instance_method" title="#eml_access (instance method)">- (Object) <strong>eml_access</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_allow-instance_method" title="#eml_allow (instance method)">- (Object) <strong>eml_allow</strong>(principal, permission) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_coverage-instance_method" title="#eml_coverage (instance method)">- (Object) <strong>eml_coverage</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_creator-instance_method" title="#eml_creator (instance method)">- (Object) <strong>eml_creator</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_custom_unit_list-instance_method" title="#eml_custom_unit_list (instance method)">- (Object) <strong>eml_custom_unit_list</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>private.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_dataset-instance_method" title="#eml_dataset (instance method)">- (Object) <strong>eml_dataset</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_intellectual_rights-instance_method" title="#eml_intellectual_rights (instance method)">- (Object) <strong>eml_intellectual_rights</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_keyword_sets-instance_method" title="#eml_keyword_sets (instance method)">- (Object) <strong>eml_keyword_sets</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_methods-instance_method" title="#eml_methods (instance method)">- (Object) <strong>eml_methods</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_people-instance_method" title="#eml_people (instance method)">- (Object) <strong>eml_people</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_protocols-instance_method" title="#eml_protocols (instance method)">- (Object) <strong>eml_protocols</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_pubdate-instance_method" title="#eml_pubdate (instance method)">- (Object) <strong>eml_pubdate</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_resource_group-instance_method" title="#eml_resource_group (instance method)">- (Object) <strong>eml_resource_group</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eml_temporal_coverage-instance_method" title="#eml_temporal_coverage (instance method)">- (Object) <strong>eml_temporal_coverage</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#end_date-instance_method" title="#end_date (instance method)">- (Object) <strong>end_date</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#from_eml-instance_method" title="#from_eml (instance method)">- (Object) <strong>from_eml</strong>(eml_doc) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#increment_version-instance_method" title="#increment_version (instance method)">- (Object) <strong>increment_version</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#leads-instance_method" title="#leads (instance method)">- (Object) <strong>leads</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#package_id-instance_method" title="#package_id (instance method)">- (Object) <strong>package_id</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>unpack and populate datatables and variates def from_eml(dataset) 
dataset.elements.each do |element|    self.send(element.name,
element.value)  end  <a href="'//dataTable'">dataset.elements</a>.each do
|datatable|    dtable = DataTable.new    dtable.from_eml(datatable)   
datatables &lt;&lt; dtable  end end.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#place_keyword_set-instance_method" title="#place_keyword_set (instance method)">- (Object) <strong>place_keyword_set</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restricted_to_members%3F-instance_method" title="#restricted_to_members? (instance method)">- (Boolean) <strong>restricted_to_members?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#temporal_extent-instance_method" title="#temporal_extent (instance method)">- (Object) <strong>temporal_extent</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_eml-instance_method" title="#to_eml (instance method)">- (Object) <strong>to_eml</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_label-instance_method" title="#to_label (instance method)">- (Object) <strong>to_label</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (Object) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_temporal_extent-instance_method" title="#update_temporal_extent (instance method)">- (Object) <strong>update_temporal_extent</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#valid_request%3F-instance_method" title="#valid_request? (instance method)">- (Boolean) <strong>valid_request?</strong>(subdomain) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#website_name-instance_method" title="#website_name (instance method)">- (Object) <strong>website_name</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#which_roles-instance_method" title="#which_roles (instance method)">- (Object) <strong>which_roles</strong>(person) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#within_interval%3F-instance_method" title="#within_interval? (instance method)">- (Boolean) <strong>within_interval?</strong>(start_date, end_date) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="from_eml-class_method">
  
    + (<tt>Object</tt>) <strong>from_eml</strong>(eml_text) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 36</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_from_eml'>from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_eml_text'>eml_text</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_eml_text'>eml_text</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_eml_doc'>eml_doc</span> <span class='op'>=</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>XML</span><span class='lparen'>(</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_eml_text'>eml_text</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_eml_doc'>eml_doc</span> <span class='op'>=</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>XML</span><span class='lparen'>(</span><span class='id identifier rubyid_eml_text'>eml_text</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_validation_errors'>validation_errors</span><span class='lparen'>(</span><span class='id identifier rubyid_eml_doc'>eml_doc</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_presence'>presence</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_from_eml'>from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_eml_doc'>eml_doc</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="from_eml_file-class_method">
  
    + (<tt>Object</tt>) <strong>from_eml_file</strong>(file) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 32</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_from_eml_file'>from_eml_file</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_from_eml'>from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validation_errors-class_method">
  
    + (<tt>Object</tt>) <strong>validation_errors</strong>(eml_doc) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48
49
50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 46</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_validation_errors'>validation_errors</span><span class='lparen'>(</span><span class='id identifier rubyid_eml_doc'>eml_doc</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_xsd'>xsd</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_root'>root</span><span class='embexpr_end'>}</span><span class='tstring_content'>/test/data/eml-2.1.0</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_xsd'>xsd</span> <span class='op'>=</span> <span class='const'>Nokogiri</span><span class='op'>::</span><span class='const'>XML</span><span class='op'>::</span><span class='const'>Schema</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>eml.xsd</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_xsd'>xsd</span><span class='period'>.</span><span class='id identifier rubyid_validate'>validate</span><span class='lparen'>(</span><span class='id identifier rubyid_eml_doc'>eml_doc</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="associated_models_from_eml-instance_method">
  
    - (<tt>Object</tt>) <strong>associated_models_from_eml</strong>(dataset_eml) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 433</span>

<span class='kw'>def</span> <span class='id identifier rubyid_associated_models_from_eml'>associated_models_from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>methods methodStep protocol</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_protocol_eml'>protocol_eml</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_protocols'>protocols</span> <span class='op'>&lt;&lt;</span> <span class='const'>Protocol</span><span class='period'>.</span><span class='id identifier rubyid_from_eml'>from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_protocol_eml'>protocol_eml</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>associatedParty</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_person_eml'>person_eml</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_people'>people</span> <span class='op'>&lt;&lt;</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_from_eml'>from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_person_eml'>person_eml</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dataTable</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_datatable_eml'>datatable_eml</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_from_eml'>from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_datatable_eml'>datatable_eml</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>keywordSet keyword</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keyword_eml'>keyword_eml</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_keyword_list'>keyword_list</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_keyword_eml'>keyword_eml</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="basic_attributes_from_eml-instance_method">
  
    - (<tt>Object</tt>) <strong>basic_attributes_from_eml</strong>(dataset_eml) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


425
426
427
428
429
430
431</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 425</span>

<span class='kw'>def</span> <span class='id identifier rubyid_basic_attributes_from_eml'>basic_attributes_from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span> <span class='op'>=</span> <span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='period'>.</span><span class='id identifier rubyid_at_css'>at_css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>title</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_abstract'>abstract</span> <span class='op'>=</span> <span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>abstract para</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_initiated'>initiated</span> <span class='op'>=</span> <span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>temporalCoverage rangeOfDates beginDate calendarDate</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_completed'>completed</span> <span class='op'>=</span> <span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>temporalCoverage rangeOfDates endDate calendarDate</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span>
  <span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="begin_date-instance_method">
  
    - (<tt>Object</tt>) <strong>begin_date</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 157</span>

<span class='kw'>def</span> <span class='id identifier rubyid_begin_date'>begin_date</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_initiated'>initiated</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1988-1-1</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="contact_info-instance_method">
  
    - (<tt>Object</tt>) <strong>contact_info</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


374
375
376
377
378
379
380
381
382
383
384
385
386
387
388</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 374</span>

<span class='kw'>def</span> <span class='id identifier rubyid_contact_info'>contact_info</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_contact'>contact</span> <span class='kw'>do</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_organizationName'>organizationName</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Kellogg Biological Station</span><span class='tstring_end'>&#39;</span></span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_positionName'>positionName</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Data Manager</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_p'>p</span> <span class='op'>=</span> <span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span> <span class='label'>organization:</span>   <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Kellogg Biological Station</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                    <span class='label'>street_address:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3700 East Gull Lake Drive</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                    <span class='label'>city:</span>           <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hickory Corners</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                    <span class='label'>locale:</span>         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mi</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                    <span class='label'>postal_code:</span>    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>49060</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                    <span class='label'>country:</span>        <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>USA</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_eml_address'>eml_address</span><span class='lparen'>(</span><span class='ivar'>@eml</span><span class='rparen'>)</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_electronicMailAddress'>electronicMailAddress</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lter.data.manager@kbs.msu.edu</span><span class='tstring_end'>&#39;</span></span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_onlineUrl'>onlineUrl</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://lter.kbs.msu.edu</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="core_areas-instance_method">
  
    - (<tt>Object</tt>) <strong>core_areas</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 184</span>

<span class='kw'>def</span> <span class='id identifier rubyid_core_areas'>core_areas</span>
  <span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_core_areas'>core_areas</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="creators-instance_method">
  
    - (<tt>Object</tt>) <strong>creators</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_creators'>creators</span>
  <span class='id identifier rubyid_datatable_leads'>datatable_leads</span> <span class='op'>=</span> <span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_leads'>leads</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='lbracket'>[</span><span class='id identifier rubyid_leads'>leads</span><span class='comma'>,</span> <span class='id identifier rubyid_datatable_leads'>datatable_leads</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="custom_units-instance_method">
  
    - (<tt>Object</tt>) <strong>custom_units</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


169
170
171
172
173
174
175
176
177</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 169</span>

<span class='kw'>def</span> <span class='id identifier rubyid_custom_units'>custom_units</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span> <span class='id identifier rubyid_datatable'>datatable</span> <span class='op'>|</span>
    <span class='id identifier rubyid_datatable'>datatable</span><span class='period'>.</span><span class='id identifier rubyid_variates'>variates</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span> <span class='id identifier rubyid_variate'>variate</span> <span class='op'>|</span>
      <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_variate'>variate</span><span class='period'>.</span><span class='id identifier rubyid_unit'>unit</span>
      <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_variate'>variate</span><span class='period'>.</span><span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_in_eml'>in_eml</span>
      <span class='id identifier rubyid_variate'>variate</span><span class='period'>.</span><span class='id identifier rubyid_unit'>unit</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="datatable_people-instance_method">
  
    - (<tt>Object</tt>) <strong>datatable_people</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


76
77
78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 76</span>

<span class='kw'>def</span> <span class='id identifier rubyid_datatable_people'>datatable_people</span>
  <span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span> <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_datatable_personnel'>datatable_personnel</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="datatable_protocols-instance_method">
  
    - (<tt>Object</tt>) <strong>datatable_protocols</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_datatable_protocols'>datatable_protocols</span>
  <span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:on_web</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_datatable'>datatable</span><span class='op'>|</span> <span class='id identifier rubyid_datatable'>datatable</span><span class='period'>.</span><span class='id identifier rubyid_protocols'>protocols</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="date_range-instance_method">
  
    - (<tt>Object</tt>) <strong>date_range</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


285
286
287
288
289
290
291
292
293
294
295
296</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 285</span>

<span class='kw'>def</span> <span class='id identifier rubyid_date_range'>date_range</span>
  <span class='id identifier rubyid_daterange'>daterange</span> <span class='op'>=</span> <span class='id identifier rubyid_temporal_extent'>temporal_extent</span>
  <span class='id identifier rubyid_starting'>starting</span> <span class='op'>=</span> <span class='id identifier rubyid_daterange'>daterange</span><span class='lbracket'>[</span><span class='symbol'>:begin_date</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_ending'>ending</span>   <span class='op'>=</span> <span class='id identifier rubyid_daterange'>daterange</span><span class='lbracket'>[</span><span class='symbol'>:end_date</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_starting'>starting</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_ending'>ending</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_starting'>starting</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='embexpr_end'>}</span><span class='tstring_content'> to </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ending'>ending</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_starting'>starting</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_starting'>starting</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_abstract-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_abstract</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


325
326
327
328
329
330
331
332
333
334
335
336
337</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 325</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_abstract'>eml_abstract</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_abstract'>abstract</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_abstract'>abstract</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_abstract'>abstract</span> <span class='kw'>do</span>
        <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_section'>section</span> <span class='kw'>do</span> 
          <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Dataset Abstract</span><span class='tstring_end'>&#39;</span></span>
          <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_para'>para</span> <span class='const'>EML</span><span class='period'>.</span><span class='id identifier rubyid_text_sanitize'>text_sanitize</span><span class='lparen'>(</span><span class='id identifier rubyid_textilize'>textilize</span><span class='lparen'>(</span><span class='id identifier rubyid_abstract'>abstract</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_para'>para</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>original data source http://lter.kbs.msu.edu/datasets/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_access-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_access</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


224
225
226
227
228
229
230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 224</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_access'>eml_access</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_access'>access</span> <span class='label'>scope:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>document</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>order:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>allowFirst</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>authSystem:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>knb</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>do</span>
    <span class='id identifier rubyid_eml_allow'>eml_allow</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uid=KBS,o=lter,dc=ecoinformatics,dc=org</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>all</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_eml_allow'>eml_allow</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>uid=sbohm,o=lter,dc=ecoinformatics,dc=org</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>all</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_on_web'>on_web</span>
      <span class='id identifier rubyid_eml_allow'>eml_allow</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>public</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>read</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_allow-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_allow</strong>(principal, permission) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 234</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_allow'>eml_allow</span><span class='lparen'>(</span><span class='id identifier rubyid_principal'>principal</span><span class='comma'>,</span> <span class='id identifier rubyid_permission'>permission</span><span class='rparen'>)</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_allow'>allow</span> <span class='kw'>do</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_principal'>principal</span> <span class='id identifier rubyid_principal'>principal</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_permission'>permission</span> <span class='id identifier rubyid_permission'>permission</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_coverage-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_coverage</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 390</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_coverage'>eml_coverage</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_coverage'>coverage</span> <span class='kw'>do</span> 
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_geographicCoverage'>geographicCoverage</span> <span class='kw'>do</span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_geographicDescription'>geographicDescription</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>The areas around the Kellogg Biological Station in southwest Michigan</span><span class='tstring_end'>&#39;</span></span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_boundingCoordinates'>boundingCoordinates</span> <span class='kw'>do</span>
        <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_westBoundingCoordinate'>westBoundingCoordinate</span> <span class='op'>-</span><span class='float'>85.404699</span>
        <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_eastBoundingCoordinate'>eastBoundingCoordinate</span> <span class='op'>-</span><span class='float'>85.366857</span>
        <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_northBoundingCoordinate'>northBoundingCoordinate</span> <span class='float'>42.420265</span>
        <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_southBoundingCoordinate'>southBoundingCoordinate</span> <span class='float'>42.391019</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_initiated'>initiated</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_data_end_date'>data_end_date</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='id identifier rubyid_eml_temporal_coverage'>eml_temporal_coverage</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_creator-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_creator</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


298
299
300
301
302
303
304
305
306
307
308
309
310</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 298</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_creator'>eml_creator</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_creators'>creators</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_creator'>creator</span> <span class='kw'>do</span> 
        <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_positionName'>positionName</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Data Manager</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_creators'>creators</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_person'>person</span><span class='op'>|</span>
        <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_creator'>creator</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_person'>person</span><span class='period'>.</span><span class='id identifier rubyid_eml_party'>eml_party</span><span class='lparen'>(</span><span class='ivar'>@eml</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_custom_unit_list-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_custom_unit_list</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>private</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 190</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_custom_unit_list'>eml_custom_unit_list</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_additionalMetadata'>additionalMetadata</span> <span class='kw'>do</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_metadata'>metadata</span> <span class='kw'>do</span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stmml:unitList</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xmlns:stmml</span><span class='tstring_end'>&#39;</span></span>        <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.xml-cml.org/schema/stmml-1.1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xmlns</span><span class='tstring_end'>&#39;</span></span>              <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.xml-cml.org/schema/stmml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xsi:schemaLocation</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.xml-cml.org/schema/stmml-1.1 http://nis.lternet.edu/schemas/EML/eml-2.1.0/stmml.xsd</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='id identifier rubyid_custom_units'>custom_units</span>
        <span class='id identifier rubyid_custom_units'>custom_units</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_unit'>unit</span><span class='op'>|</span>
          <span class='kw'>case</span> <span class='id identifier rubyid_unit'>unit</span>
          <span class='kw'>when</span> <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_multiplier_to_si'>multiplier_to_si</span>  <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_parent_si'>parent_si</span>  <span class='op'>&amp;&amp;</span>  <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_unit_type'>unit_type</span> <span class='kw'>then</span>
            <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stmml:unit</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                      <span class='label'>id:</span>             <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
                      <span class='label'>multiplierToSI:</span> <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_multiplier_to_si'>multiplier_to_si</span><span class='comma'>,</span>
                      <span class='label'>parentSI:</span>       <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_parent_si'>parent_si</span><span class='comma'>,</span>
                      <span class='label'>unitType:</span>       <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_unit_type'>unit_type</span><span class='comma'>,</span>
                      <span class='label'>name:</span>           <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
          <span class='kw'>when</span> <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_multiplier_to_si'>multiplier_to_si</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_parent_si'>parent_si</span> <span class='kw'>then</span>
            <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stmml:unit</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                      <span class='label'>id:</span>             <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
                      <span class='label'>multiplierToSI:</span> <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_multiplier_to_si'>multiplier_to_si</span><span class='comma'>,</span>
                      <span class='label'>parentSI:</span>       <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_parent_si'>parent_si</span><span class='comma'>,</span>
                      <span class='label'>name:</span>           <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stmml:unit</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                      <span class='label'>id:</span>   <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
                      <span class='label'>name:</span> <span class='id identifier rubyid_unit'>unit</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_dataset-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_dataset</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260
261
262
263
264
265</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_dataset'>eml_dataset</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_dataset'>dataset</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_application'>application</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_url_helpers'>url_helpers</span><span class='period'>.</span><span class='id identifier rubyid_dataset_path'>dataset_path</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='symbol'>:format</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>eml</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_eml_resource_group'>eml_resource_group</span>
    <span class='id identifier rubyid_contact_info'>contact_info</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_publisher'>publisher</span> <span class='kw'>do</span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_organizationName'>organizationName</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>KBS LTER</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_eml_methods'>eml_methods</span>
    <span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span> <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_to_eml'>to_eml</span><span class='lparen'>(</span><span class='ivar'>@eml</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_on_web'>on_web</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_valid_for_eml?'>valid_for_eml?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_is_restricted'>is_restricted</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_intellectual_rights-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_intellectual_rights</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


279
280
281
282
283
284</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 279</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_intellectual_rights'>eml_intellectual_rights</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_intellectualRights'>intellectualRights</span> <span class='kw'>do</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_para'>para</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Data in the KBS LTER core database may not be published without written permission of the lead investigator or project director. These restrictions are intended mainly to preserve the primary investigators&#39; rights to first publication and to ensure that data users are aware of the limitations that may be associated with any specific data set. These restrictions apply to both the baseline data set and to the data sets associated with specific LTER-supported subprojects.</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_para'>para</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>All publications of KBS data and images must acknowledge KBS LTER support.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_keyword_sets-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_keyword_sets</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 343</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_keyword_sets'>eml_keyword_sets</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_keywordSet'>keywordSet</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_place_keyword_set'>place_keyword_set</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span><span class='op'>|</span> <span class='id identifier rubyid_keyword'>keyword</span> <span class='op'>|</span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_keyword'>keyword</span> <span class='id identifier rubyid_keyword'>keyword</span><span class='comma'>,</span> <span class='label'>keywordType:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>place</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_datatable_keywords'>datatable_keywords</span> <span class='op'>=</span> <span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_keyword_names'>keyword_names</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_datatable_keywords'>datatable_keywords</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_keywordSet'>keywordSet</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_datatable_keywords'>datatable_keywords</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keyword'>keyword</span><span class='op'>|</span>
        <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_keyword'>keyword</span> <span class='id identifier rubyid_keyword'>keyword</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_core_areas'>core_areas</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_keywordSet'>keywordSet</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_core_areas'>core_areas</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keyword'>keyword</span><span class='op'>|</span>
        <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_keyword'>keyword</span>  <span class='id identifier rubyid_keyword'>keyword</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>end</span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_keywordThesaurus'>keywordThesaurus</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LTER Core Research Area</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_keyword_list'>keyword_list</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_keywordSet'>keywordSet</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_keyword_list'>keyword_list</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keyword_tag'>keyword_tag</span><span class='op'>|</span>
        <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_keyword'>keyword</span> <span class='id identifier rubyid_keyword_tag'>keyword_tag</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_methods-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_methods</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


245
246
247
248
249
250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 245</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_methods'>eml_methods</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_eml_protocols'>eml_protocols</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_methods'>methods</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_eml_protocols'>eml_protocols</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span> <span class='id identifier rubyid_protocol'>protocol</span> <span class='op'>|</span>
        <span class='id identifier rubyid_protocol'>protocol</span><span class='period'>.</span><span class='id identifier rubyid_to_eml'>to_eml</span><span class='lparen'>(</span><span class='ivar'>@eml</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_people-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_people</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


316
317
318
319
320
321
322
323</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 316</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_people'>eml_people</span>
  <span class='lbracket'>[</span><span class='id identifier rubyid_people'>people</span><span class='comma'>,</span> <span class='id identifier rubyid_datatable_people'>datatable_people</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_person'>person</span><span class='op'>|</span>
    <span class='id identifier rubyid_role'>role</span> <span class='op'>=</span> <span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_which_roles'>which_roles</span><span class='lparen'>(</span><span class='id identifier rubyid_person'>person</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_role'>role</span> <span class='op'>=</span> <span class='id identifier rubyid_which_roles'>which_roles</span><span class='lparen'>(</span><span class='id identifier rubyid_person'>person</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='kw'>unless</span> <span class='id identifier rubyid_role'>role</span>
    <span class='id identifier rubyid_role_name'>role_name</span> <span class='op'>=</span> <span class='id identifier rubyid_role'>role</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='kw'>if</span> <span class='id identifier rubyid_role'>role</span>
    <span class='id identifier rubyid_person'>person</span><span class='period'>.</span><span class='id identifier rubyid_to_eml'>to_eml</span><span class='lparen'>(</span><span class='ivar'>@eml</span><span class='comma'>,</span> <span class='id identifier rubyid_role_name'>role_name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_protocols-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_protocols</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


241
242
243</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 241</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_protocols'>eml_protocols</span>
  <span class='lparen'>(</span><span class='id identifier rubyid_protocols'>protocols</span> <span class='op'>+</span> <span class='id identifier rubyid_datatable_protocols'>datatable_protocols</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span><span class='id identifier rubyid_keep_if'>keep_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_protocol'>protocol</span><span class='op'>|</span> <span class='id identifier rubyid_protocol'>protocol</span><span class='period'>.</span><span class='id identifier rubyid_valid_for_eml?'>valid_for_eml?</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_pubdate-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_pubdate</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


312
313
314</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 312</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_pubdate'>eml_pubdate</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_pubDate'>pubDate</span> <span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_resource_group-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_resource_group</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


268
269
270
271
272
273
274
275
276
277</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 268</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_resource_group'>eml_resource_group</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span> <span class='id identifier rubyid_title'>title</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> at the Kellogg Biological Station, Hickory Corners, MI </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_date_range'>date_range</span>
  <span class='id identifier rubyid_eml_creator'>eml_creator</span>
  <span class='id identifier rubyid_eml_people'>eml_people</span>
  <span class='id identifier rubyid_eml_pubdate'>eml_pubdate</span>
  <span class='id identifier rubyid_eml_abstract'>eml_abstract</span>
  <span class='id identifier rubyid_eml_keyword_sets'>eml_keyword_sets</span>
  <span class='id identifier rubyid_eml_intellectual_rights'>eml_intellectual_rights</span>
  <span class='id identifier rubyid_eml_coverage'>eml_coverage</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eml_temporal_coverage-instance_method">
  
    - (<tt>Object</tt>) <strong>eml_temporal_coverage</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


407
408
409
410
411
412
413
414</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 407</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eml_temporal_coverage'>eml_temporal_coverage</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_temporalCoverage'>temporalCoverage</span> <span class='kw'>do</span>
    <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_rangeOfDates'>rangeOfDates</span> <span class='kw'>do</span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_beginDate'>beginDate</span> <span class='lbrace'>{</span> <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_calendarDate'>calendarDate</span> <span class='id identifier rubyid_initiated'>initiated</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
      <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_endDate'>endDate</span>   <span class='lbrace'>{</span> <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_calendarDate'>calendarDate</span> <span class='id identifier rubyid_data_end_date'>data_end_date</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="end_date-instance_method">
  
    - (<tt>Object</tt>) <strong>end_date</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 161</span>

<span class='kw'>def</span> <span class='id identifier rubyid_end_date'>end_date</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_data_end_date'>data_end_date</span> <span class='op'>||</span> <span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="from_eml-instance_method">
  
    - (<tt>Object</tt>) <strong>from_eml</strong>(eml_doc) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57
58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_from_eml'>from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_eml_doc'>eml_doc</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dataset_eml'>dataset_eml</span> <span class='op'>=</span> <span class='id identifier rubyid_eml_doc'>eml_doc</span><span class='period'>.</span><span class='id identifier rubyid_css'>css</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dataset</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='id identifier rubyid_basic_attributes_from_eml'>basic_attributes_from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_associated_models_from_eml'>associated_models_from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_dataset_eml'>dataset_eml</span><span class='rparen'>)</span>

  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="increment_version-instance_method">
  
    - (<tt>Object</tt>) <strong>increment_version</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_increment_version'>increment_version</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_version'>version</span> <span class='op'>+</span> <span class='int'>1</span>
  <span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="leads-instance_method">
  
    - (<tt>Object</tt>) <strong>leads</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 84</span>

<span class='kw'>def</span> <span class='id identifier rubyid_leads'>leads</span>
  <span class='id identifier rubyid_lead_investigator'>lead_investigator</span> <span class='op'>=</span> <span class='const'>Role</span><span class='period'>.</span><span class='id identifier rubyid_find_by_name'>find_by_name</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lead investigator</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_affiliations'>affiliations</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_affiliation'>affiliation</span><span class='op'>|</span> <span class='id identifier rubyid_affiliation'>affiliation</span><span class='period'>.</span><span class='id identifier rubyid_person'>person</span> <span class='kw'>if</span> <span class='id identifier rubyid_affiliation'>affiliation</span><span class='period'>.</span><span class='id identifier rubyid_role'>role</span> <span class='op'>==</span> <span class='id identifier rubyid_lead_investigator'>lead_investigator</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="package_id-instance_method">
  
    - (<tt>Object</tt>) <strong>package_id</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>unpack and populate datatables and variates def from_eml(dataset)</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_dataset'>dataset</span><span class='period'>.</span><span class='id identifier rubyid_elements'>elements</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_element'>element</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_dataset'>dataset</span><span class='period'>.</span><span class='id identifier rubyid_elements'>elements</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//dataTable</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_datatable'>datatable</span><span class='op'>|</span>
  <span class='id identifier rubyid_dtable'>dtable</span> <span class='op'>=</span> <span class='const'>DataTable</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_dtable'>dtable</span><span class='period'>.</span><span class='id identifier rubyid_from_eml'>from_eml</span><span class='lparen'>(</span><span class='id identifier rubyid_datatable'>datatable</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_datatables'>datatables</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_dtable'>dtable</span>
<span class='kw'>end</span>
</code></pre>

<p>end</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 115</span>

<span class='kw'>def</span> <span class='id identifier rubyid_package_id'>package_id</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>knb-lter-kbs.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_metacat_id'>metacat_id</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="place_keyword_set-instance_method">
  
    - (<tt>Object</tt>) <strong>place_keyword_set</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


339
340
341</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 339</span>

<span class='kw'>def</span> <span class='id identifier rubyid_place_keyword_set'>place_keyword_set</span>
  <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LTER</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>KBS</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Kellogg Biological Station</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hickory Corners</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Michigan</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Great Lakes</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restricted_to_members?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>restricted_to_members?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 165</span>

<span class='kw'>def</span> <span class='id identifier rubyid_restricted_to_members?'>restricted_to_members?</span>
  <span class='id identifier rubyid_sponsor'>sponsor</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:data_restricted?</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="temporal_extent-instance_method">
  
    - (<tt>Object</tt>) <strong>temporal_extent</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141
142
143
144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 139</span>

<span class='kw'>def</span> <span class='id identifier rubyid_temporal_extent'>temporal_extent</span>
  <span class='id identifier rubyid_begin_date'>begin_date</span><span class='comma'>,</span> <span class='id identifier rubyid_end_date'>end_date</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:on_web</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_datatable'>datatable</span> <span class='op'>|</span>
    <span class='id identifier rubyid_dates'>dates</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='symbol'>:begin_date</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_datatable'>datatable</span><span class='period'>.</span><span class='id identifier rubyid_begin_date'>begin_date</span><span class='comma'>,</span> <span class='symbol'>:end_date</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_datatable'>datatable</span><span class='period'>.</span><span class='id identifier rubyid_end_date'>end_date</span> <span class='rbrace'>}</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_dates'>dates</span><span class='lbracket'>[</span><span class='symbol'>:begin_date</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_dates'>dates</span><span class='lbracket'>[</span><span class='symbol'>:end_date</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_begin_date'>begin_date</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_begin_date'>begin_date</span><span class='comma'>,</span> <span class='id identifier rubyid_dates'>dates</span><span class='lbracket'>[</span><span class='symbol'>:begin_date</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
    <span class='id identifier rubyid_end_date'>end_date</span>   <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_end_date'>end_date</span><span class='comma'>,</span> <span class='id identifier rubyid_dates'>dates</span><span class='lbracket'>[</span><span class='symbol'>:end_date</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  <span class='kw'>end</span>
  <span class='lbrace'>{</span><span class='symbol'>:begin_date</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_begin_date'>begin_date</span><span class='comma'>,</span> <span class='symbol'>:end_date</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_end_date'>end_date</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_eml-instance_method">
  
    - (<tt>Object</tt>) <strong>to_eml</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129
130
131
132
133
134
135
136
137</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 123</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_eml'>to_eml</span>
  <span class='ivar'>@eml</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>Builder</span><span class='op'>::</span><span class='const'>XmlMarkup</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_instruct!'>instruct!</span> <span class='symbol'>:xml</span><span class='comma'>,</span> <span class='label'>version:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1.0</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@eml</span><span class='period'>.</span><span class='id identifier rubyid_tag!'>tag!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>eml:eml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xmlns:eml</span><span class='tstring_end'>&#39;</span></span>           <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>eml://ecoinformatics.org/eml-2.1.1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xmlns:stmml</span><span class='tstring_end'>&#39;</span></span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.xml-cml.org/schema/stmml-1.1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xmlns:xsi</span><span class='tstring_end'>&#39;</span></span>           <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://www.w3.org/2001/XMLSchema-instance</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xsi:schemaLocation</span><span class='tstring_end'>&#39;</span></span>  <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>eml://ecoinformatics.org/eml-2.1.1 http://lter.kbs.msu.edu/docs/eml/eml.xsd</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>packageId</span><span class='tstring_end'>&#39;</span></span>           <span class='op'>=&gt;</span> <span class='id identifier rubyid_package_id'>package_id</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>system</span><span class='tstring_end'>&#39;</span></span>              <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>KBS LTER</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_eml_access'>eml_access</span>
    <span class='id identifier rubyid_eml_dataset'>eml_dataset</span>
    <span class='id identifier rubyid_eml_custom_unit_list'>eml_custom_unit_list</span> <span class='kw'>if</span> <span class='id identifier rubyid_custom_units'>custom_units</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_label-instance_method">
  
    - (<tt>Object</tt>) <strong>to_label</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 63</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_label'>to_label</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_title'>title</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dataset'>dataset</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    - (<tt>Object</tt>) <strong>to_s</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 67</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_dataset'>dataset</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_temporal_extent-instance_method">
  
    - (<tt>Object</tt>) <strong>update_temporal_extent</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 150</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_temporal_extent'>update_temporal_extent</span>
  <span class='id identifier rubyid_dates'>dates</span> <span class='op'>=</span> <span class='id identifier rubyid_temporal_extent'>temporal_extent</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_initiated'>initiated</span> <span class='op'>=</span> <span class='id identifier rubyid_dates'>dates</span><span class='lbracket'>[</span><span class='symbol'>:begin_date</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_dates'>dates</span><span class='lbracket'>[</span><span class='symbol'>:begin_date</span><span class='rbracket'>]</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_data_end_date'>data_end_date</span> <span class='op'>=</span> <span class='id identifier rubyid_dates'>dates</span><span class='lbracket'>[</span><span class='symbol'>:end_date</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_dates'>dates</span><span class='lbracket'>[</span><span class='symbol'>:end_date</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_save'>save</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="valid_request?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>valid_request?</strong>(subdomain) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 89</span>

<span class='kw'>def</span> <span class='id identifier rubyid_valid_request?'>valid_request?</span><span class='lparen'>(</span><span class='id identifier rubyid_subdomain'>subdomain</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_website_name'>website_name</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='id identifier rubyid_website_name'>website_name</span> <span class='op'>==</span> <span class='id identifier rubyid_subdomain'>subdomain</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="website_name-instance_method">
  
    - (<tt>Object</tt>) <strong>website_name</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 93</span>

<span class='kw'>def</span> <span class='id identifier rubyid_website_name'>website_name</span>
  <span class='id identifier rubyid_website'>website</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="which_roles-instance_method">
  
    - (<tt>Object</tt>) <strong>which_roles</strong>(person) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 80</span>

<span class='kw'>def</span> <span class='id identifier rubyid_which_roles'>which_roles</span><span class='lparen'>(</span><span class='id identifier rubyid_person'>person</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_affiliations'>affiliations</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_affiliation'>affiliation</span> <span class='op'>|</span> <span class='id identifier rubyid_affiliation'>affiliation</span><span class='period'>.</span><span class='id identifier rubyid_role'>role</span> <span class='kw'>if</span> <span class='id identifier rubyid_affiliation'>affiliation</span><span class='period'>.</span><span class='id identifier rubyid_person'>person</span> <span class='op'>==</span> <span class='id identifier rubyid_person'>person</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="within_interval?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>within_interval?</strong>(start_date, end_date) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/dataset.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_within_interval?'>within_interval?</span><span class='lparen'>(</span><span class='id identifier rubyid_start_date'>start_date</span><span class='comma'>,</span> <span class='id identifier rubyid_end_date'>end_date</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sdate'>sdate</span> <span class='op'>=</span> <span class='id identifier rubyid_start_date'>start_date</span><span class='period'>.</span><span class='id identifier rubyid_to_date'>to_date</span>
  <span class='id identifier rubyid_edate'>edate</span> <span class='op'>=</span> <span class='id identifier rubyid_end_date'>end_date</span><span class='period'>.</span><span class='id identifier rubyid_to_date'>to_date</span>
  <span class='id identifier rubyid_datatables'>datatables</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span> <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_within_interval?'>within_interval?</span><span class='lparen'>(</span><span class='id identifier rubyid_sdate'>sdate</span><span class='comma'>,</span> <span class='id identifier rubyid_edate'>edate</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Feb 24 11:18:58 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.3.0).
</div>

  </body>
</html>